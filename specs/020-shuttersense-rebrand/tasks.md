# Tasks: ShutterSense.ai Application Rebrand

**Input**: Design documents from `/specs/020-shuttersense-rebrand/`
**Prerequisites**: plan.md (required), spec.md (required), research.md, data-model.md, contracts/, quickstart.md

**Tests**: Not explicitly requested - focus on verification through grep and visual inspection.

**Organization**: Tasks are grouped by user story to enable independent implementation and testing of each story.

## Format: `[ID] [P?] [Story] Description`

- **[P]**: Can run in parallel (different files, no dependencies)
- **[Story]**: Which user story this task belongs to (e.g., US1, US2, US3, US4, US5)
- Include exact file paths in descriptions

## Path Conventions

- **Web app**: `backend/src/`, `frontend/src/`
- **CLI tools**: Repository root (`photo_stats.py`, `version.py`, etc.)
- **Documentation**: `docs/`, `README.md`, `CLAUDE.md`

---

## Phase 1: Setup (Logo Assets)

**Purpose**: Add logo and visual assets - prerequisite for all visual branding tasks

**‚ö†Ô∏è DEPENDENCY**: User must provide logo source files before this phase can begin

- [x] T001 Create frontend/public/ directory for logo assets
- [x] T002 [P] Add logo.svg (primary sidebar logo, scalable) to frontend/public/logo.svg
- [x] T003 [P] Add logo.png (sidebar fallback, 200x50 / 400x100 @2x) to frontend/public/logo.png
- [x] T004 [P] Add logo-login.png (login page 3D logo, 512x512+) to frontend/public/logo-login.png
- [x] T005 [P] Add logo-login.webp (login page optimized) to frontend/public/logo-login.webp
- [x] T006 [P] Add favicon.ico (16/32/48 multi-res) to frontend/public/favicon.ico
- [x] T007 [P] Add favicon-192.png (Android Chrome icon) to frontend/public/favicon-192.png
- [x] T008 [P] Add apple-touch-icon.png (iOS icon, 180x180) to frontend/public/apple-touch-icon.png
- [x] T009 [P] Add favicon.svg (modern browsers) to frontend/public/favicon.svg
- [x] T010 [P] Add og-image.png (social sharing, 1200x630) to frontend/public/og-image.png

**Checkpoint**: All visual assets are in place - user story implementation can now begin

---

## Phase 2: User Story 1 - See Updated Branding in Application (Priority: P1) üéØ MVP

**Goal**: Users see ShutterSense.ai branding when opening the application (sidebar logo, login page, favicon, page title)

**Independent Test**: Open application, visually verify:
1. Sidebar shows ShutterSense.ai logo in top-left corner
2. Login page displays high-resolution 3D logo
3. Browser tab shows ShutterSense favicon
4. Page title includes "ShutterSense.ai"

### Implementation for User Story 1

- [x] T011 [US1] Update page title from "Photo Admin" to "ShutterSense.ai" in frontend/index.html
- [x] T012 [US1] Add favicon links (ico, svg, apple-touch-icon, png-192) to frontend/index.html head section
- [x] T013 [US1] Add Open Graph meta tags (og:title, og:description, og:image) to frontend/index.html
- [x] T014 [US1] Update package name from "photo-admin-frontend" to "shuttersense-frontend" in frontend/package.json
- [x] T015 [US1] Update package description to "ShutterSense.ai Web UI" in frontend/package.json
- [x] T016 [US1] Update sidebar component to display logo.svg from public/ in frontend/src/components/layout/Sidebar.tsx
- [x] T017 [US1] Update login page to display logo-login.png with WebP fallback in frontend/src/pages/LoginPage.tsx (or equivalent auth component)
- [x] T018 [US1] Update FastAPI app title to "ShutterSense.ai API" in backend/src/main.py
- [x] T019 [US1] Update FastAPI app description to include ShutterSense.ai branding in backend/src/main.py

**Checkpoint**: Visual branding is complete - application displays ShutterSense.ai identity

---

## Phase 3: User Story 2 - Updated CLI Tools Reflect New Brand (Priority: P2)

**Goal**: CLI tools display ShutterSense branding in version output, help text, and generated reports

**Independent Test**: Run each CLI tool with `--version` and `--help` flags, verify ShutterSense branding appears

### Implementation for User Story 2

- [x] T020 [US2] Update SHUSAI_VERSION environment variable reference in version.py (replace PHOTO_ADMIN_VERSION)
- [x] T021 [US2] Update version string format to include "ShutterSense" in version.py
- [x] T022 [US2] Update docstring from "photo-admin toolbox" to "ShutterSense toolbox" in version.py
- [x] T023 [P] [US2] Update help text and description to use ShutterSense in photo_stats.py
- [x] T024 [P] [US2] Update help text and description to use ShutterSense in photo_pairing.py
- [x] T025 [P] [US2] Update help text and description to use ShutterSense in pipeline_validation.py
- [x] T026 [US2] Update footer from "Generated by photo-admin" to "Generated by ShutterSense.ai" in templates/base.html.j2

**Checkpoint**: CLI tools display ShutterSense branding consistently

---

## Phase 4: User Story 3 - Documentation Uses New Branding (Priority: P2)

**Goal**: All documentation files reference ShutterSense.ai instead of photo-admin

**Independent Test**: Run `grep -r "photo-admin\|photo_admin\|PhotoAdmin" docs/ README.md CLAUDE.md` and verify no matches

### Implementation for User Story 3

- [x] T027 [US3] Rewrite README.md with ShutterSense.ai branding, tagline "Capture. Process. Analyze.", and production URL
- [x] T028 [US3] Update CHANGELOG.md header from "photo-admin" to "ShutterSense.ai"
- [x] T029 [P] [US3] Update docs/installation.md - replace all photo-admin references with ShutterSense
- [x] T030 [P] [US3] Update docs/configuration.md - replace all photo-admin references with ShutterSense
- [x] T031 [P] [US3] Update docs/photostats.md - replace all photo-admin references with ShutterSense
- [x] T032 [P] [US3] Update docs/photo-pairing.md - replace all photo-admin references with ShutterSense
- [x] T033 [P] [US3] Update docs/pipeline-validation.md - replace all photo-admin references with ShutterSense
- [x] T034 [P] [US3] Update backend/README.md - replace all photo-admin references with ShutterSense
- [x] T035 [P] [US3] Update config/README.md - replace all photo-admin references with ShutterSense

**Checkpoint**: All documentation uses ShutterSense.ai branding

---

## Phase 5: User Story 5 - Environment Variables Use New Prefix (Priority: P3)

**Goal**: All environment variables use SHUSAI_ prefix instead of PHOTO_ADMIN_

**Independent Test**: Set `SHUSAI_VERSION=test` and verify application recognizes it; grep for remaining PHOTO_ADMIN_ references

### Implementation for User Story 5

- [x] T036 [P] [US5] Update PHOTO_ADMIN_MASTER_KEY to SHUSAI_MASTER_KEY in backend/src/utils/crypto.py
- [x] T037 [P] [US5] Update PHOTO_ADMIN_LOG_LEVEL to SHUSAI_LOG_LEVEL in backend/src/utils/logging_config.py
- [x] T038 [P] [US5] Update PHOTO_ADMIN_LOG_DIR to SHUSAI_LOG_DIR in backend/src/utils/logging_config.py
- [x] T039 [P] [US5] Update PHOTO_ADMIN_ENV to SHUSAI_ENV in backend/src/utils/logging_config.py
- [x] T040 [P] [US5] Update PHOTO_ADMIN_AUTHORIZED_LOCAL_ROOTS to SHUSAI_AUTHORIZED_LOCAL_ROOTS in backend/src/utils/security_settings.py
- [x] T041 [P] [US5] Update PHOTO_ADMIN_SPA_DIST_PATH to SHUSAI_SPA_DIST_PATH in backend/src/utils/security_settings.py
- [x] T042 [US5] Update backend/.env.example with all new SHUSAI_ variable names
- [x] T042b [US5] Update SHUSAI_DB_URL in backend/src/db/database.py and migrations/env.py
- [x] T042c [P] [US5] Update SHUSAI_DB_URL references in photo_stats.py help text
- [x] T042d [P] [US5] Update SHUSAI_DB_URL references in photo_pairing.py help text
- [x] T042e [P] [US5] Update SHUSAI_DB_URL references in pipeline_validation.py help text
- [x] T042f [P] [US5] Update SHUSAI_DB_URL references in utils/config_manager.py
- [x] T042g [US5] Update web_server.py with SHUSAI_* environment variables and ShutterSense branding
- [x] T042h [US5] Update setup_master_key.py with SHUSAI_MASTER_KEY and ~/.shusai_master_key.txt

**Checkpoint**: Environment variables use SHUSAI_ prefix consistently

---

## Phase 6: Backend Module Docstrings (Supports US3/US5)

**Goal**: Update all backend module docstrings that reference photo-admin

**Independent Test**: grep -r "photo-admin\|photo_admin" backend/src/ --include="*.py"

### Implementation

- [x] T043 [P] Update module docstring in backend/src/main.py (comments referencing photo-admin)
- [x] T044 [P] Update module docstring in backend/src/middleware/__init__.py
- [x] T045 [P] Update module docstring in backend/src/config/__init__.py
- [x] T046 [P] Update module docstring in backend/src/auth/__init__.py
- [x] T047 [P] Update module docstring in backend/src/models/__init__.py
- [x] T048 [P] Update module docstring in backend/src/utils/__init__.py
- [x] T049 [P] Update comment in backend/src/services/api.ts (if exists, otherwise skip) - N/A (frontend file)
- [x] T049b [P] Update backend/src/config/settings.py docstring
- [x] T049c [P] Update backend/src/config/session.py docstring and session cookie name (shusai_session)
- [x] T049d [P] Update backend/src/scripts/__init__.py docstring
- [x] T049e [P] Update backend/src/scripts/seed_first_team.py messages
- [x] T049f [P] Update backend/src/services/geocoding_service.py user agent (shuttersense-geocoder/1.0)
- [x] T049g [P] Update backend/src/utils/logging_config.py logger prefix (shusai.*)
- [x] T049h [P] Update backend/src/utils/pipeline_adapter.py author attribution

**Checkpoint**: Backend code comments use ShutterSense branding

---

## Phase 7: Frontend Code Comments (Supports US1/US3)

**Goal**: Update frontend code comments that reference photo-admin

**Independent Test**: grep -r "photo-admin\|photo_admin" frontend/src/ --include="*.ts" --include="*.tsx"

### Implementation

- [x] T050 [P] Update comment in frontend/src/services/api.ts referencing photo-admin backend
- [x] T051 [P] Update download filename from "photo-admin-config" to "shuttersense-config" in frontend/src/hooks/useConfig.ts
- [x] T051b [P] Update frontend/src/App.tsx module comment header
- [x] T051c [P] Update frontend/src/components/layout/MainLayout.tsx default pageTitle and comment

**Checkpoint**: Frontend code uses ShutterSense branding

---

## Phase 8: Test File Updates (Supports All Stories)

**Goal**: Update test file docstrings and comments

**Independent Test**: grep -r "photo-admin\|PHOTO_ADMIN" backend/tests/ tests/ --include="*.py"

### Implementation

- [x] T052 [P] Update environment variables in backend/tests/conftest.py (SHUSAI_MASTER_KEY, SHUSAI_DB_URL, SHUSAI_AUTHORIZED_LOCAL_ROOTS)
- [x] T053 [P] Update environment variable references in backend/tests/unit/test_crypto.py (SHUSAI_MASTER_KEY)
- [x] T054 [P] Update environment variable references in backend/tests/unit/test_security_settings.py (SHUSAI_MASTER_KEY, SHUSAI_DB_URL)
- [x] T055 [P] Update tests/test_config_manager.py (SHUSAI_DB_URL)
- [x] T056 [P] Update tests/test_version.py (SHUSAI_VERSION)

**Checkpoint**: Test files use ShutterSense branding

---

## Phase 9: CLAUDE.md Update (Supports US3)

**Goal**: Update CLAUDE.md agent context file (auto-generated, but contains many references)

**Note**: CLAUDE.md is partially auto-generated. Focus on the header and any manual sections.

- [x] T057 [US3] Update "photo-admin Development Guidelines" header to "ShutterSense.ai Development Guidelines" in CLAUDE.md
- [x] T058 [US3] Update "Photo Administration toolbox" description to "ShutterSense.ai - Capture. Process. Analyze." in CLAUDE.md
- [x] T059 [US3] Update SHUSAI_VERSION references in CLAUDE.md (CI/CD Integration section)

**Checkpoint**: CLAUDE.md reflects ShutterSense.ai branding

---

## Phase 10: User Story 4 - Repository and GitHub (Priority: P3)

**Goal**: GitHub repository reflects ShutterSense.ai brand

**Independent Test**: Visit GitHub repository and verify new name/description

**‚ö†Ô∏è NOTE**: Repository rename is a MANUAL step by repository owner

### Implementation

- [ ] T060 [US4] Update .github/workflows/*.yml if any contain hardcoded "photo-admin" references
- [ ] T061 [US4] MANUAL: Rename GitHub repository from "photo-admin" to "shuttersense" (owner action)
- [ ] T062 [US4] MANUAL: Update repository description to "ShutterSense.ai - Capture. Process. Analyze."
- [ ] T063 [US4] MANUAL: Upload og-image.png as social preview image in GitHub settings

**Checkpoint**: GitHub repository displays ShutterSense.ai branding

---

## Phase 11: Verification & Final Cleanup

**Purpose**: Ensure complete rebrand with no remaining old references

### Verification Tasks

- [ ] T064 Run grep verification: `grep -r "photo-admin" . --include="*.py" --include="*.ts" --include="*.tsx" --include="*.md" --include="*.json" --include="*.html" --include="*.j2" | grep -v node_modules | grep -v .git | grep -v specs/`
- [ ] T065 Run grep verification: `grep -r "PHOTO_ADMIN" . --include="*.py" --include="*.ts" --include="*.tsx" | grep -v node_modules | grep -v .git`
- [ ] T066 Run backend tests: `cd backend && python -m pytest tests/ -v`
- [ ] T067 Run frontend tests: `cd frontend && npm test`
- [ ] T068 Verify favicon displays in Chrome, Firefox, Safari, Edge browsers
- [ ] T069 Verify Open Graph tags work (use social media debugger tools)

**Checkpoint**: Complete rebrand verified - ready for deployment

---

## Dependencies & Execution Order

### Phase Dependencies

- **Phase 1 (Setup)**: No code dependencies, but REQUIRES logo files from user
- **Phase 2 (US1)**: Depends on Phase 1 completion (logo assets must exist)
- **Phase 3-5 (US2, US3, US5)**: Can run in parallel after Phase 1
- **Phase 6-9**: Support phases, can run in parallel with or after US phases
- **Phase 10 (US4)**: Can start after code changes, GitHub rename is last step
- **Phase 11 (Verification)**: Depends on all previous phases

### User Story Dependencies

| Story | Priority | Dependencies | Can Parallel With |
|-------|----------|--------------|-------------------|
| US1 | P1 | Phase 1 (assets) | - |
| US2 | P2 | None | US1, US3, US5 |
| US3 | P2 | None | US1, US2, US5 |
| US5 | P3 | None | US1, US2, US3 |
| US4 | P3 | All code changes | None (last) |

### Parallel Opportunities

**Phase 1** - All logo assets (T002-T010) can be added in parallel

**Phase 2** - Within US1, most tasks are sequential (index.html ‚Üí package.json ‚Üí components)

**Phase 3** - CLI tools (T023-T025) can be updated in parallel

**Phase 4** - All documentation files (T029-T035) can be updated in parallel

**Phase 5** - All environment variable files (T036-T041) can be updated in parallel

**Phase 6-8** - All docstring/comment updates can run in parallel

---

## Parallel Example: Phase 1 (Logo Assets)

```bash
# All asset files can be added simultaneously:
Task: "Add logo.svg to frontend/public/logo.svg"
Task: "Add logo.png to frontend/public/logo.png"
Task: "Add logo-login.png to frontend/public/logo-login.png"
Task: "Add favicon.ico to frontend/public/favicon.ico"
# ... etc
```

## Parallel Example: Phase 4 (Documentation)

```bash
# All documentation files can be updated simultaneously:
Task: "Update docs/installation.md"
Task: "Update docs/configuration.md"
Task: "Update docs/photostats.md"
Task: "Update docs/photo-pairing.md"
Task: "Update docs/pipeline-validation.md"
```

---

## Implementation Strategy

### MVP First (User Story 1 Only)

1. Complete Phase 1: Add logo assets
2. Complete Phase 2: User Story 1 (visual branding)
3. **STOP and VALIDATE**: Open application, verify branding displays correctly
4. Deploy/demo if ready - users see new brand immediately

### Incremental Delivery

1. **MVP**: Phase 1 + Phase 2 (US1) ‚Üí Visual branding complete
2. **Iteration 2**: Phase 3 (US2) ‚Üí CLI tools branded
3. **Iteration 3**: Phase 4-5 (US3, US5) ‚Üí Docs and env vars updated
4. **Iteration 4**: Phase 6-9 ‚Üí Code comments cleaned up
5. **Final**: Phase 10-11 (US4 + Verification) ‚Üí GitHub renamed, verified complete

### Single Developer Strategy

Execute phases sequentially in priority order:
1. Setup ‚Üí US1 (P1) ‚Üí Test/Deploy MVP
2. US2 (P2) ‚Üí US3 (P2) ‚Üí Test
3. US5 (P3) ‚Üí Support phases ‚Üí US4 (P3) ‚Üí Final verification

---

## Search/Replace Reference

| Find | Replace | Scope |
|------|---------|-------|
| `PHOTO_ADMIN_` | `SHUSAI_` | Environment variables |
| `photo-admin` | `shuttersense` | Package names, URLs |
| `photo_admin` | `shuttersense` | Python identifiers |
| `PhotoAdmin` | `ShutterSense` | Class names |
| `Photo Admin` | `ShutterSense.ai` | Display text |

---

## Notes

- [P] tasks = different files, no dependencies
- [Story] label maps task to specific user story for traceability
- Logo assets (Phase 1) must be provided by user before implementation begins
- GitHub rename (T061-T063) is a manual owner action
- Run full test suites after major phases to catch any breaks
- Commit after each logical group of tasks
